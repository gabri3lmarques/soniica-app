{"version":3,"sources":["flash-message/flash-message.js","accordion/accordion.js","player/player.js","playlist-modal/playlist-modal.js","profile-img/profile-img.js","song/song.js","top-menu/top-menu.js"],"names":["let","fm_close","document","querySelector","modal","addEventListener","style","display","AccordionMenu","constructor","this","accordionItems","querySelectorAll","init","forEach","item","currentItem","isActive","classList","contains","remove","maxHeight","add","content","scrollHeight","Player","audio","Audio","currentSong","currentPlaylist","isPlaying","isLooping","isRandom","titleElement","artistElement","timeElement","gendersElement","thumbElement","playPauseButton","nextButton","previousButton","loopButton","randomButton","progressBarContainer","progressBar","volumeSlider","togglePlayPause","next","previous","toggleLoop","toggleRandom","adjustVolume","e","volume","value","seek","startDrag","updateProgressBar","handleSongEnd","initializeFirstSong","isPlayerDisabled","event","newVolume","target","rightVolume","leftVolume","background","firstPlaylist","firstSong","encodedUrl","dataset","src","decodedUrl","atob","startsWith","updatePlayerInfo","console","error","getRandomSong","otherSongs","playlistSongs","Array","from","length","filter","song","Math","floor","random","getNextSong","songs","currentIndex","findIndex","getPreviousSong","play","songElement","playlistElement","playButton","syncButtons","pause","nextSong","previousSong","currentTime","titleEl","artistEl","timeEl","thumbEl","textContent","button","progress","duration","width","rect","getBoundingClientRect","offsetX","clientX","left","dragHandler","stopDrag","removeEventListener","window","globalPlayer","closest","playlist","originalForm","currentTarget","modalBody","modalBackground","modalCloseButton","clonedForm","cloneNode","innerHTML","appendChild","closeModal","closeOnOutsideClick","setTimeout","profilePictureForm","removeProfilePicture","preventDefault","fileInput","formData","FormData","append","files","fetch","method","body","credentials","then","res","json","data","log","message","getElementById","handleDownload","wpApiSettings","root","headers","X-WP-Nonce","nonce","Content-Type","response","success","alert","is_premium","downloadLink","setAttribute","removeAttribute","catch","confirm","playerDownloadButtons","isBase64","str","btoa","PlayerManager","instance","getInstance","stopGlobalPlayer","encodedDownloadLink","getAttribute","decodedLink","open","location","href","userAvatar","userSubMenu","toggle"],"mappings":"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","file":"main.min.js","sourcesContent":["let fm_close = document.querySelector('.fm-close');\nlet modal = document.querySelector('.flash-message-overlay');\n\nif(fm_close ){\n    fm_close.addEventListener('click', function() {\n        modal.style.display = 'none';\n    });\n}\n","class AccordionMenu {\n    constructor() {\n        this.accordionItems = document.querySelectorAll('.accordion-item');\n        this.init();\n    }\n\n    init() {\n        this.accordionItems.forEach(item => {\n            const header = item.querySelector('.accordion-header');\n            \n            header.addEventListener('click', () => {\n                const currentItem = item;\n                const isActive = currentItem.classList.contains('active');\n                \n                // Fecha todos os itens\n                this.accordionItems.forEach(item => {\n                    item.classList.remove('active');\n                    const content = item.querySelector('.accordion-content');\n                    content.style.maxHeight = null;\n                });\n                \n                // Abre o item atual se não estava ativo\n                if (!isActive) {\n                    currentItem.classList.add('active');\n                    const content = currentItem.querySelector('.accordion-content');\n                    content.style.maxHeight = content.scrollHeight + \"px\";\n                }\n            });\n        });\n    }\n}\n\n// Inicializa o accordion quando o DOM estiver pronto\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (document.querySelector('.accordion-item')) {\n        new AccordionMenu();\n    }\n});","class Player {\n    constructor() {\n        this.audio = new Audio();\n        this.currentSong = null;\n        this.currentPlaylist = null;\n        this.isPlaying = false;\n        this.isLooping = false;\n        this.isRandom = false;\n\n        // Elementos do player principal\n        this.titleElement = document.querySelector('.current-title');\n        this.artistElement = document.querySelector('.current-artist');\n        this.timeElement = document.querySelector('.current-time');\n        this.gendersElement = document.querySelector('.current-genders');\n        this.thumbElement = document.querySelector('.current-thumb');\n        this.playPauseButton = document.querySelector('.play-pause');\n        this.nextButton = document.querySelector('.next-song');\n        this.previousButton = document.querySelector('.previous-song');\n        this.loopButton = document.querySelector('.loop');\n        this.randomButton = document.querySelector('.random');\n        this.progressBarContainer = document.querySelector('.progress-bar-container');\n        this.progressBar = document.querySelector('.progress-bar');\n        this.volumeSlider = document.querySelector('#volume-slider');\n\n        // Event listeners (APENAS se os elementos existem)\n        if (this.playPauseButton) {\n            this.playPauseButton.addEventListener('click', () => this.togglePlayPause());\n        }\n\n        if (this.nextButton) {\n            this.nextButton.addEventListener('click', () => this.next());\n        }\n\n        if (this.previousButton) {\n            this.previousButton.addEventListener('click', () => this.previous());\n        }\n\n        if (this.loopButton) {\n            this.loopButton.addEventListener('click', () => this.toggleLoop());\n        }\n\n        if (this.randomButton) {\n            this.randomButton.addEventListener('click', () => this.toggleRandom());\n        }\n\n        if (this.volumeSlider) {\n            this.volumeSlider.addEventListener('input', (e) => this.adjustVolume(e));\n            this.audio.volume = this.volumeSlider.value;\n        }\n\n        if (this.progressBarContainer) {\n            this.progressBarContainer.addEventListener('click', (e) => this.seek(e));\n            this.progressBarContainer.addEventListener('mousedown', (e) => this.startDrag(e));\n        }\n\n        // Event listeners do áudio (sempre existem)\n        this.audio.addEventListener('timeupdate', () => this.updateProgressBar());\n        this.audio.addEventListener('ended', () => this.handleSongEnd());\n\n        // Inicializa a primeira música automaticamente\n        this.initializeFirstSong();\n    }\n\n    isPlayerDisabled() {\n        return document.querySelector('#player-main')?.classList.contains('disabled');\n    }\n\n    adjustVolume(event) {\n        const newVolume = event.target.value;\n        const rightVolume = newVolume * 100;\n        const leftVolume = 100 - rightVolume;\n        this.audio.volume = newVolume;\n        if (this.volumeSlider) {\n            this.volumeSlider.style.background = `linear-gradient(to right, #e95265, #207dff ${rightVolume}%, #272727 ${leftVolume}%)`;\n        }\n    }\n\n    initializeFirstSong() {\n        const firstPlaylist = document.querySelector('.playlist');\n        if (!firstPlaylist) return;\n        \n        const firstSong = firstPlaylist.querySelector('.song');\n        if (!firstSong) return;\n        \n        this.currentPlaylist = firstPlaylist;\n        this.currentSong = firstSong;\n        \n        const encodedUrl = firstSong.dataset.src;\n        if (!encodedUrl) return;\n        \n        try {\n            const decodedUrl = atob(encodedUrl);\n            if (!decodedUrl.startsWith('http://') && !decodedUrl.startsWith('https://')) {\n                console.error('Invalid decoded URL:', decodedUrl);\n                return;\n            }\n            this.audio.src = decodedUrl;\n            this.updatePlayerInfo(firstSong);\n        } catch (e) {\n            console.error('Error decoding URL:', e);\n        }\n    }\n\n    toggleRandom() {\n        if (this.isPlayerDisabled()) {\n            return;\n        }\n        this.isRandom = !this.isRandom;\n        \n        if (this.randomButton) {\n            if (this.isRandom) {\n                this.randomButton.classList.add('active');\n            } else {\n                this.randomButton.classList.remove('active');\n            }\n        }\n    }\n\n    getRandomSong() {\n        if (!this.currentPlaylist) return null;\n\n        const playlistSongs = Array.from(this.currentPlaylist.querySelectorAll('.song'));\n\n        if (playlistSongs.length <= 1) return playlistSongs[0] || null;\n\n        const otherSongs = playlistSongs.filter(song => song !== this.currentSong);\n        const randomIndex = Math.floor(Math.random() * otherSongs.length);\n\n        return otherSongs[randomIndex];\n    }\n\n    getNextSong() {\n        if (this.isRandom) {\n            return this.getRandomSong();\n        }\n        if (!this.currentPlaylist) return null;\n        \n        const songs = [...this.currentPlaylist.querySelectorAll('.song')];\n        const currentIndex = songs.findIndex(song => song === this.currentSong);\n        return songs[currentIndex + 1] || (this.isLooping ? songs[0] : null);\n    }\n\n    getPreviousSong() {\n        if (!this.currentPlaylist) return null;\n        \n        const songs = [...this.currentPlaylist.querySelectorAll('.song')];\n        const currentIndex = songs.findIndex(song => song === this.currentSong);\n        return songs[currentIndex - 1] || (this.isLooping ? songs[songs.length - 1] : null);\n    }\n\n    play(songElement, playlistElement) {\n        if (this.isPlayerDisabled()) {\n            return;\n        }\n        try {\n            const encodedUrl = songElement.dataset.src;\n            if (!encodedUrl) {\n                console.error('No encoded URL found');\n                return;\n            }\n            \n            const decodedUrl = atob(encodedUrl);\n            if (!decodedUrl.startsWith('http://') && !decodedUrl.startsWith('https://')) {\n                console.error('Invalid decoded URL:', decodedUrl);\n                return;\n            }\n\n            if (this.currentSong && this.currentSong !== songElement) {\n                const playButton = this.currentSong.querySelector('.play-button');\n                if (playButton) playButton.classList.remove('active');\n                this.currentSong.classList.remove('active');\n            }\n\n            if (this.audio.src !== decodedUrl) {\n                this.audio.src = decodedUrl;\n            }\n\n            this.audio.play();\n            this.isPlaying = true;\n            this.currentSong = songElement;\n            this.currentPlaylist = playlistElement;\n            this.updatePlayerInfo(songElement);\n            this.syncButtons(songElement);\n\n        } catch (e) {\n            console.error('Error playing song:', e);\n        }\n    }\n\n    pause(songElement = null) {\n        this.audio.pause();\n        this.isPlaying = false;\n        \n        if (songElement) {\n            const playButton = songElement.querySelector('.play-button');\n            if (playButton) playButton.classList.remove('active');\n            songElement.classList.remove('active');\n        }\n        \n        if (this.playPauseButton) {\n            this.playPauseButton.classList.remove('active');\n        }\n    }\n\n    togglePlayPause() {\n        if (this.isPlayerDisabled()) {\n            return;\n        }\n        if (this.isPlaying) {\n            this.pause(this.currentSong);\n        } else {\n            this.audio.play();\n            this.isPlaying = true;\n            \n            if (this.currentSong) {\n                const playButton = this.currentSong.querySelector('.play-button');\n                if (playButton) playButton.classList.add('active');\n                this.currentSong.classList.add('active');\n            }\n            \n            if (this.playPauseButton) {\n                this.playPauseButton.classList.add('active');\n            }\n        }\n    }\n\n    toggleLoop() {\n        if (this.isPlayerDisabled()) {\n            return;\n        }\n        this.isLooping = !this.isLooping;\n        \n        if (this.loopButton) {\n            if (this.isLooping) {\n                this.loopButton.classList.add('active');\n            } else {\n                this.loopButton.classList.remove('active');\n            }\n        }\n    }\n\n    next() {\n        if (this.isPlayerDisabled()) {\n            return;\n        }\n        const nextSong = this.getNextSong();\n        if (nextSong) {\n            this.play(nextSong, this.currentPlaylist);\n        }\n    }\n\n    previous() {\n        if (this.isPlayerDisabled()) {\n            return;\n        }\n        if (this.audio.currentTime > 2) {\n            this.audio.currentTime = 0;\n        } else {\n            const previousSong = this.getPreviousSong();\n            if (previousSong) {\n                this.play(previousSong, this.currentPlaylist);\n            }\n        }\n    }\n\n    handleSongEnd() {\n        const nextSong = this.getNextSong();\n        if (nextSong) {\n            this.play(nextSong, this.currentPlaylist);\n        } else {\n            this.isPlaying = false;\n            this.audio.currentTime = 0;\n            this.syncButtons(null);\n        }\n    }\n\n    updatePlayerInfo(songElement) {\n        if (!songElement) return;\n        \n        const titleEl = songElement.querySelector('.title');\n        const artistEl = songElement.querySelector('.artist');\n        const timeEl = songElement.querySelector('.time');\n        const thumbEl = songElement.querySelector('.thumb');\n\n        if (this.titleElement && titleEl) {\n            this.titleElement.textContent = titleEl.textContent;\n        }\n        if (this.artistElement && artistEl) {\n            this.artistElement.textContent = artistEl.textContent;\n        }\n        if (this.timeElement && timeEl) {\n            this.timeElement.textContent = timeEl.textContent;\n        }\n        if (this.thumbElement && thumbEl) {\n            this.thumbElement.src = thumbEl.src;\n        }\n    }\n\n    syncButtons(songElement) {\n        document.querySelectorAll('.play-button').forEach(button => button.classList.remove('active'));\n        document.querySelectorAll('.song').forEach(song => song.classList.remove('active'));\n\n        if (songElement) {\n            const playButton = songElement.querySelector('.play-button');\n            if (playButton) playButton.classList.add('active');\n            songElement.classList.add('active');\n            \n            if (this.playPauseButton) {\n                this.playPauseButton.classList.add('active');\n            }\n        } else {\n            if (this.playPauseButton) {\n                this.playPauseButton.classList.remove('active');\n            }\n        }\n    }\n\n    updateProgressBar() {\n        if (!this.progressBar || !this.audio.duration) return;\n        \n        const progress = (this.audio.currentTime / this.audio.duration) * 100;\n        this.progressBar.style.width = `${progress}%`;\n    }\n\n    seek(event) {\n        if (!this.progressBarContainer || !this.audio.duration) return;\n        \n        const rect = this.progressBarContainer.getBoundingClientRect();\n        const offsetX = event.clientX - rect.left;\n        const percentage = offsetX / rect.width;\n        this.audio.currentTime = percentage * this.audio.duration;\n    }\n\n    startDrag(event) {\n        const dragHandler = (e) => this.seek(e);\n        const stopDrag = () => {\n            document.removeEventListener('mousemove', dragHandler);\n            document.removeEventListener('mouseup', stopDrag);\n        };\n        document.addEventListener('mousemove', dragHandler);\n        document.addEventListener('mouseup', stopDrag);\n\n        this.seek(event);\n    }\n}\n\n// Inicializar o player apenas se o elemento existir\nif (document.querySelector('#player-main')) {\n    window.globalPlayer = new Player(); // Define como global\n\n    // Configurar eventos para as músicas\n    document.addEventListener('click', (event) => {\n        const playButton = event.target.closest('.play-button');\n        if (!playButton) return;\n\n        const song = playButton.closest('.song');\n        const playlist = playButton.closest('.playlist');\n        \n        if (!song || !playlist) return;\n\n        if (window.globalPlayer && window.globalPlayer.currentSong === song && window.globalPlayer.isPlaying) {\n            window.globalPlayer.pause(song);\n        } else if (window.globalPlayer) {\n            window.globalPlayer.play(song, playlist);\n        }\n    });\n}","document.querySelectorAll('.add-to-playlist-button').forEach(button => {\n  button.addEventListener('click', event => {\n    const songElement = event.currentTarget.closest('.song');\n    const originalForm = songElement.querySelector('.playlist-form');\n\n    const modal = document.querySelector('.playlist-modal');\n    const modalBody = document.querySelector('.playlist-modal-body');\n    const modalBackground = document.querySelector('.playlist-modal-background');\n    const modalCloseButton = document.querySelector('.playlist-modal-close');\n\n    if (originalForm && modalBody && modalBackground) {\n      const clonedForm = originalForm.cloneNode(true); // clona o formulário inteiro\n\n      modalBody.innerHTML = ''; // limpa conteúdo anterior\n      modalBody.appendChild(clonedForm); // insere o clone\n      modalBackground.classList.add('active');\n\n      // Função de fechar modal\n      const closeModal = () => {\n        modalBackground.classList.remove('active');\n        document.removeEventListener('click', closeOnOutsideClick);\n        if (modalCloseButton) {\n          modalCloseButton.removeEventListener('click', closeModal);\n        }\n      };\n\n      // Fechar ao clicar fora do modal\n      const closeOnOutsideClick = (e) => {\n        if (!modal.contains(e.target)) {\n          closeModal();\n        }\n      };\n\n      // Espera para evitar conflito com o clique atual\n      setTimeout(() => {\n        document.addEventListener('click', closeOnOutsideClick);\n      }, 10);\n\n      // Fechar ao clicar no botão \"X\"\n      if (modalCloseButton) {\n        modalCloseButton.addEventListener('click', closeModal);\n      }\n    }\n  });\n});\n","let profilePictureForm = document.querySelector(\"#profile-picture-form\");\nif(profilePictureForm) {\n    profilePictureForm.addEventListener(\"submit\", function (e) {\n        e.preventDefault();\n        const fileInput = document.querySelector('input[name=\"profile_picture\"]');\n        const formData = new FormData();\n        formData.append(\"action\", \"upload_profile_picture\");\n        formData.append(\"profile_picture\", fileInput.files[0]);\n        fetch(\"/wp-admin/admin-ajax.php\", {\n          method: \"POST\",\n          body: formData,\n          credentials: \"same-origin\",\n        })\n          .then(res => res.json())\n          .then(data => {\n            console.log(data.data?.message)\n            document.getElementById(\"upload-status\").textContent = data.data?.message;\n          });\n      });\n}\n\nlet removeProfilePicture = document.getElementById(\"remove-profile-picture\");\nif(removeProfilePicture) {\n  removeProfilePicture.addEventListener(\"click\", function () {\n    if (!confirm(\"Tem certeza que quer remover a imagem de perfil?\")) return;\n  \n    const formData = new FormData();\n    formData.append(\"action\", \"remove_profile_picture\");\n  \n    fetch(\"/wp-admin/admin-ajax.php\", {\n      method: \"POST\",\n      body: formData,\n      credentials: \"same-origin\",\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        document.getElementById(\"upload-status\").textContent = data.data?.message || \"Erro ao remover imagem.\";\n        document.getElementById(\"profile-picture-preview\").src = \"\"; // ou uma imagem padrão\n      });\n  });\n}\n\n\n\n\n  ","function handleDownload(event) {\n    fetch(`${wpApiSettings.root}soniica/v1/register-download`, {\n        method: 'POST',\n        headers: {\n            'X-WP-Nonce': wpApiSettings.nonce,\n            'Content-Type': 'application/json'\n        },\n        credentials: 'same-origin'\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (!data.success) {\n            event.preventDefault();\n            alert(data.message);\n            return false;\n        } else {\n            // Atualiza o estado de todos os botões de download para usuários não premium\n            if (!data.is_premium) {\n                document.querySelectorAll('.download-link').forEach(downloadLink => {\n                    downloadLink.classList.add('download-blocked');\n                    downloadLink.setAttribute('title', 'You have reached the download limit on free plan today.');\n                    //downloadLink.textContent = 'Download indisponível';\n                    downloadLink.setAttribute('href', '/get-premium');\n                    downloadLink.removeAttribute('download');\n                });\n            }\n        }\n    })\n    .catch(error => {\n        console.error('Erro:', error);\n        event.preventDefault();\n        return false;\n    });\n\n    return true;\n}\n\nconst playerDownloadButtons = document.querySelectorAll('.download-link');\n\nfunction isBase64(str) {\n    try {\n        return btoa(atob(str)) === str;\n    } catch (e) {\n        return false;\n    }\n}\n\nconst PlayerManager = (function () {\n    let instance = null;\n\n    return {\n        getInstance: function () {\n            if (!instance) {\n                instance = new Player();\n            }\n            return instance;\n        }\n    };\n})();\n\nfunction stopGlobalPlayer() {\n    if (window.globalPlayer && window.globalPlayer.currentSong) {\n        window.globalPlayer.pause(window.globalPlayer.currentSong);\n    }\n}\n\n\n\nplayerDownloadButtons.forEach((button) => {\n    button.addEventListener('click', (event) => {\n        event.preventDefault();\n\n        let encodedDownloadLink = button.getAttribute(\"href\");\n        let decodedLink = '';\n\n        // Verifica se a string é Base64 válida antes de decodificar\n        if (isBase64(encodedDownloadLink)) {\n            // se for base64, decodifica\n            decodedLink = atob(encodedDownloadLink);\n        } else {\n            // se não for, usa o link normal\n            decodedLink = encodedDownloadLink;\n \n            window.location.href = decodedLink;\n            return;\n        }\n\n        if (!button.classList.contains('download-blocked')) {\n            window.open(decodedLink, '_blank');\n        } else {\n            console.log('deu ruim');\n        }\n    });\n});\n\nwindow.addEventListener('beforeunload', function(event) {\n    stopGlobalPlayer();\n});\n","\n    const userAvatar = document.querySelector(\".user-avatar\");\n    const userSubMenu = document.querySelector(\".user-sub-menu\");\n\n    if (userAvatar && userSubMenu) {\n        userAvatar.addEventListener(\"click\", function (event) {\n            userSubMenu.classList.toggle(\"active\");\n        });\n\n        document.addEventListener(\"click\", function (event) {\n            if (!userAvatar.contains(event.target) && !userSubMenu.contains(event.target)) {\n                userSubMenu.classList.remove(\"active\");\n            }\n        });\n    }\n"]}