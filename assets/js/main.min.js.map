{"version":3,"sources":["accordion/accordion.js","flash-message/flash-message.js","profile-img/profile-img.js","playlist-modal/playlist-modal.js","player/player.js","song/song.js","top-menu/top-menu.js"],"names":["AccordionMenu","constructor","this","accordionItems","document","querySelectorAll","init","forEach","item","querySelector","addEventListener","currentItem","isActive","classList","contains","remove","style","maxHeight","add","content","scrollHeight","let","fm_close","modal","profilePictureForm","display","button","event","originalForm","currentTarget","closest","modalBody","modalBackground","modalCloseButton","clonedForm","cloneNode","innerHTML","appendChild","closeModal","removeEventListener","closeOnOutsideClick","e","target","setTimeout","removeProfilePicture","preventDefault","fileInput","formData","FormData","append","files","fetch","method","body","credentials","then","res","json","data","console","log","message","getElementById","textContent","confirm","src","Player","audio","Audio","currentSong","currentPlaylist","isPlaying","isLooping","isRandom","titleElement","artistElement","timeElement","gendersElement","thumbElement","playPauseButton","nextButton","previousButton","loopButton","randomButton","progressBarContainer","progressBar","volumeSlider","togglePlayPause","next","previous","toggleLoop","toggleRandom","updateProgressBar","handleSongEnd","adjustVolume","seek","startDrag","initializeFirstSong","volume","value","isPlayerDisabled","newVolume","rightVolume","leftVolume","background","firstPlaylist","firstSong","encodedUrl","dataset","decodedUrl","atob","startsWith","updatePlayerInfo","error","getRandomSong","otherSongs","playlistSongs","Array","from","length","filter","song","Math","floor","random","getNextSong","songs","currentIndex","findIndex","getPreviousSong","play","songElement","playlistElement","syncButtons","pause","playButton","nextSong","previousSong","currentTime","thumbSrc","progress","duration","width","rect","getBoundingClientRect","offsetX","clientX","left","dragHandler","stopDrag","handleDownload","wpApiSettings","root","headers","X-WP-Nonce","nonce","Content-Type","response","success","alert","is_premium","downloadLink","setAttribute","removeAttribute","catch","window","globalPlayer","playlist","playerDownloadButtons","isBase64","str","btoa","PlayerManager","instance","getInstance","stopGlobalPlayer","encodedDownloadLink","getAttribute","decodedLink","open","location","href","userAvatar","userSubMenu","toggle"],"mappings":"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","file":"main.min.js","sourcesContent":["class AccordionMenu {\n    constructor() {\n        this.accordionItems = document.querySelectorAll('.accordion-item');\n        this.init();\n    }\n\n    init() {\n        this.accordionItems.forEach(item => {\n            const header = item.querySelector('.accordion-header');\n            \n            header.addEventListener('click', () => {\n                const currentItem = item;\n                const isActive = currentItem.classList.contains('active');\n                \n                // Fecha todos os itens\n                this.accordionItems.forEach(item => {\n                    item.classList.remove('active');\n                    const content = item.querySelector('.accordion-content');\n                    content.style.maxHeight = null;\n                });\n                \n                // Abre o item atual se não estava ativo\n                if (!isActive) {\n                    currentItem.classList.add('active');\n                    const content = currentItem.querySelector('.accordion-content');\n                    content.style.maxHeight = content.scrollHeight + \"px\";\n                }\n            });\n        });\n    }\n}\n\n// Inicializa o accordion quando o DOM estiver pronto\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (document.querySelector('.accordion-item')) {\n        new AccordionMenu();\n    }\n});","let fm_close = document.querySelector('.fm-close');\nlet modal = document.querySelector('.flash-message-overlay');\n\nif(fm_close ){\n    fm_close.addEventListener('click', function() {\n        modal.style.display = 'none';\n    });\n}\n","let profilePictureForm = document.querySelector(\"#profile-picture-form\");\nif(profilePictureForm) {\n    profilePictureForm.addEventListener(\"submit\", function (e) {\n        e.preventDefault();\n        const fileInput = document.querySelector('input[name=\"profile_picture\"]');\n        const formData = new FormData();\n        formData.append(\"action\", \"upload_profile_picture\");\n        formData.append(\"profile_picture\", fileInput.files[0]);\n        fetch(\"/wp-admin/admin-ajax.php\", {\n          method: \"POST\",\n          body: formData,\n          credentials: \"same-origin\",\n        })\n          .then(res => res.json())\n          .then(data => {\n            console.log(data.data?.message)\n            document.getElementById(\"upload-status\").textContent = data.data?.message;\n          });\n      });\n}\n\nlet removeProfilePicture = document.getElementById(\"remove-profile-picture\");\nif(removeProfilePicture) {\n  removeProfilePicture.addEventListener(\"click\", function () {\n    if (!confirm(\"Tem certeza que quer remover a imagem de perfil?\")) return;\n  \n    const formData = new FormData();\n    formData.append(\"action\", \"remove_profile_picture\");\n  \n    fetch(\"/wp-admin/admin-ajax.php\", {\n      method: \"POST\",\n      body: formData,\n      credentials: \"same-origin\",\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        document.getElementById(\"upload-status\").textContent = data.data?.message || \"Erro ao remover imagem.\";\n        document.getElementById(\"profile-picture-preview\").src = \"\"; // ou uma imagem padrão\n      });\n  });\n}\n\n\n\n\n  ","document.querySelectorAll('.add-to-playlist-button').forEach(button => {\n  button.addEventListener('click', event => {\n    const songElement = event.currentTarget.closest('.song');\n    const originalForm = songElement.querySelector('.playlist-form');\n\n    const modal = document.querySelector('.playlist-modal');\n    const modalBody = document.querySelector('.playlist-modal-body');\n    const modalBackground = document.querySelector('.playlist-modal-background');\n    const modalCloseButton = document.querySelector('.playlist-modal-close');\n\n    if (originalForm && modalBody && modalBackground) {\n      const clonedForm = originalForm.cloneNode(true); // clona o formulário inteiro\n\n      modalBody.innerHTML = ''; // limpa conteúdo anterior\n      modalBody.appendChild(clonedForm); // insere o clone\n      modalBackground.classList.add('active');\n\n      // Função de fechar modal\n      const closeModal = () => {\n        modalBackground.classList.remove('active');\n        document.removeEventListener('click', closeOnOutsideClick);\n        if (modalCloseButton) {\n          modalCloseButton.removeEventListener('click', closeModal);\n        }\n      };\n\n      // Fechar ao clicar fora do modal\n      const closeOnOutsideClick = (e) => {\n        if (!modal.contains(e.target)) {\n          closeModal();\n        }\n      };\n\n      // Espera para evitar conflito com o clique atual\n      setTimeout(() => {\n        document.addEventListener('click', closeOnOutsideClick);\n      }, 10);\n\n      // Fechar ao clicar no botão \"X\"\n      if (modalCloseButton) {\n        modalCloseButton.addEventListener('click', closeModal);\n      }\n    }\n  });\n});\n","class Player {\n    constructor() {\n        this.audio = new Audio();\n        this.currentSong = null;\n        this.currentPlaylist = null;\n        this.isPlaying = false;\n        this.isLooping = false; // Estado do loop\n        this.isRandom = false; // Estado do random\n        // Elementos do player principal\n        this.titleElement = document.querySelector('.current-title');\n        this.artistElement = document.querySelector('.current-artist');\n        this.timeElement = document.querySelector('.current-time');\n        this.gendersElement = document.querySelector('.current-genders');\n        this.thumbElement = document.querySelector('.current-thumb');\n        this.playPauseButton = document.querySelector('.play-pause');\n        this.nextButton = document.querySelector('.next');\n        this.previousButton = document.querySelector('.previous');\n        this.loopButton = document.querySelector('.loop');\n        this.randomButton = document.querySelector('.random'); // Botão de random\n        this.progressBarContainer = document.querySelector('.progress-bar-container');\n        this.progressBar = document.querySelector('.progress-bar');\n        this.volumeSlider = document.querySelector('#volume-slider'); // Slider de volume\n        // Event listeners\n        this.playPauseButton.addEventListener('click', () => this.togglePlayPause());\n        this.nextButton.addEventListener('click', () => this.next());\n        this.previousButton.addEventListener('click', () => this.previous());\n        this.loopButton.addEventListener('click', () => this.toggleLoop());\n        this.randomButton.addEventListener('click', () => this.toggleRandom());\n        this.audio.addEventListener('timeupdate', () => this.updateProgressBar());\n        this.audio.addEventListener('ended', () => this.handleSongEnd());\n        this.volumeSlider.addEventListener('input', (e) => this.adjustVolume(e));\n        // Eventos para a barra de progresso\n        this.progressBarContainer.addEventListener('click', (e) => this.seek(e));\n        this.progressBarContainer.addEventListener('mousedown', (e) => this.startDrag(e));\n        // Inicializar a primeira música automaticamente\n        this.initializeFirstSong();\n        this.audio.volume = this.volumeSlider.value;\n    }\n    isPlayerDisabled() {\n        return document.querySelector('#player-main')?.classList.contains('disabled');\n    }\n    adjustVolume(event) {\n        // Ajustar o volume do elemento de áudio com base no slider\n        const newVolume = event.target.value;\n        const rightVolume = newVolume * 100;\n        const leftVolume = 100 - rightVolume;\n        this.audio.volume = newVolume;\n        this.volumeSlider.style.background = `linear-gradient(to right, #e95265, #207dff ${rightVolume}%, #272727 ${leftVolume}%)`;\n    }\n    initializeFirstSong() {\n        const firstPlaylist = document.querySelector('.playlist');\n        if (!firstPlaylist) return;\n        const firstSong = firstPlaylist.querySelector('.song');\n        if (!firstSong) return;\n        this.currentPlaylist = firstPlaylist;\n        this.currentSong = firstSong;\n        // Fix: songElement was undefined, should use firstSong\n        const encodedUrl = firstSong.dataset.src;\n        try {\n            const decodedUrl = atob(encodedUrl);\n            if (!decodedUrl.startsWith('http://') && !decodedUrl.startsWith('https://')) {\n                console.error('Invalid decoded URL:', decodedUrl);\n                return;\n            }\n            this.audio.src = decodedUrl;\n            this.updatePlayerInfo(firstSong);\n        } catch (e) {\n            console.error('Error decoding URL:', e);\n        }\n    }\n    toggleRandom() {\n        if(this.isPlayerDisabled()){\n            return\n        }\n        this.isRandom = !this.isRandom;\n        // Adicionar ou remover a classe 'active' no botão random\n        if (this.isRandom) {\n            this.randomButton.classList.add('active');\n        } else {\n            this.randomButton.classList.remove('active');\n        }\n    }\ngetRandomSong() {\n    if (!this.currentPlaylist) return null;\n\n    const playlistSongs = Array.from(this.currentPlaylist.querySelectorAll('.song'));\n\n    if (playlistSongs.length <= 1) return playlistSongs[0] || null;\n\n    const otherSongs = playlistSongs.filter(song => song !== this.currentSong);\n    const randomIndex = Math.floor(Math.random() * otherSongs.length);\n\n    return otherSongs[randomIndex];\n}\n    getNextSong() {\n        if (this.isRandom) {\n            return this.getRandomSong();\n        }\n        const songs = [...this.currentPlaylist.querySelectorAll('.song')];\n        const currentIndex = songs.findIndex(song => song === this.currentSong);\n        return songs[currentIndex + 1] || (this.isLooping ? songs[0] : null);\n    }\n    getPreviousSong() {\n        const songs = [...this.currentPlaylist.querySelectorAll('.song')];\n        const currentIndex = songs.findIndex(song => song === this.currentSong);\n        return songs[currentIndex - 1] || (this.isLooping ? songs[songs.length - 1] : null);\n    }\n    play(songElement, playlistElement) {\n        if(this.isPlayerDisabled()){\n            return\n        }\n        try {\n            const encodedUrl = songElement.dataset.src;\n            const decodedUrl = atob(encodedUrl);\n            if (!decodedUrl.startsWith('http://') && !decodedUrl.startsWith('https://')) {\n                console.error('Invalid decoded URL:', decodedUrl);\n                return;\n            }\n            if (this.currentSong && this.currentSong !== songElement) {\n                this.currentSong.querySelector('.play-button').classList.remove('active');\n                this.currentSong.classList.remove('active');\n            }\n            if (this.audio.src !== decodedUrl) {\n                this.audio.src = decodedUrl;\n            }\n            this.audio.play();\n            this.isPlaying = true;\n            this.currentSong = songElement;\n            this.currentPlaylist = playlistElement;\n            this.updatePlayerInfo(songElement);\n            this.syncButtons(songElement);\n\n        } catch (e) {\n            console.error('Error playing song:', e);\n        }\n    }\n    pause(songElement = null) {\n        this.audio.pause();\n        this.isPlaying = false;\n        if (songElement) {\n            const playButton = songElement.querySelector('.play-button');\n            if (playButton) playButton.classList.remove('active');\n            songElement.classList.remove('active');\n        }\n        this.playPauseButton.classList.remove('active');\n    }\n    togglePlayPause() {\n        if(this.isPlayerDisabled()){\n            return\n        }\n        if (this.isPlaying) {\n            this.pause(this.currentSong);\n        } else {\n            this.audio.play();\n            this.isPlaying = true;\n            this.currentSong.querySelector('.play-button').classList.add('active');\n            this.currentSong.classList.add('active');\n            this.playPauseButton.classList.add('active');\n        }\n    }\n    toggleLoop() {\n        if(this.isPlayerDisabled()){\n            return\n        }\n        this.isLooping = !this.isLooping;\n        if (this.isLooping) {\n            this.loopButton.classList.add('active');\n        } else {\n            this.loopButton.classList.remove('active');\n        }\n    }\n    next() {\n        if(this.isPlayerDisabled()){\n            return\n        }\n        const nextSong = this.getNextSong();\n        if (nextSong) {\n            this.play(nextSong, this.currentPlaylist);\n        }\n    }\n    previous() {\n        if(this.isPlayerDisabled()){\n            return\n        }\n        if (this.audio.currentTime > 2) {\n            this.audio.currentTime = 0;\n        } else {\n            const previousSong = this.getPreviousSong();\n            if (previousSong) {\n                this.play(previousSong, this.currentPlaylist);\n            }\n        }\n    }\n    handleSongEnd() {\n        const nextSong = this.getNextSong();\n        if (nextSong) {\n            this.play(nextSong, this.currentPlaylist);\n        } else {\n            this.isPlaying = false;\n            this.audio.currentTime = 0;\n            this.syncButtons(null);\n        }\n    }\n    updatePlayerInfo(songElement) {\n        this.titleElement.textContent = songElement.querySelector('.title').textContent;\n        this.artistElement.textContent = songElement.querySelector('.artist').textContent;\n        this.timeElement.textContent = songElement.querySelector('.time').textContent;\n        //const genders = [...songElement.querySelectorAll('.genders li')].map(li => li.textContent);\n        //this.gendersElement.textContent = genders.join(', ');\n        const thumbSrc = songElement.querySelector('.thumb').src;\n        this.thumbElement.src = thumbSrc;\n    }\n    syncButtons(songElement) {\n        document.querySelectorAll('.play-button').forEach(button => button.classList.remove('active'));\n        document.querySelectorAll('.song').forEach(song => song.classList.remove('active'));\n\n        if (songElement) {\n            songElement.querySelector('.play-button').classList.add('active');\n            songElement.classList.add('active');\n            this.playPauseButton.classList.add('active');\n        } else {\n            this.playPauseButton.classList.remove('active');\n        }\n    }\n    updateProgressBar() {\n        const progress = (this.audio.currentTime / this.audio.duration) * 100;\n        this.progressBar.style.width = `${progress}%`;\n    }\n    seek(event) {\n        const rect = this.progressBarContainer.getBoundingClientRect();\n        const offsetX = event.clientX - rect.left;\n        const percentage = offsetX / rect.width;\n        this.audio.currentTime = percentage * this.audio.duration;\n    }\n    startDrag(event) {\n        const dragHandler = (e) => this.seek(e);\n        const stopDrag = () => {\n            document.removeEventListener('mousemove', dragHandler);\n            document.removeEventListener('mouseup', stopDrag);\n        };\n        document.addEventListener('mousemove', dragHandler);\n        document.addEventListener('mouseup', stopDrag);\n\n        this.seek(event);\n    }\n}    \n// Inicializar o player apenas se o elemento existir\nif (document.querySelector('#player-main')) {\n    \n    window.globalPlayer = new Player(); // Define como global\n\n    // Configurar eventos para as músicas\n    document.addEventListener('click', (event) => {\n        const playButton = event.target.closest('.play-button');\n        if (!playButton) return;\n\n        const song = playButton.closest('.song');\n        const playlist = playButton.closest('.playlist');\n        \n        if (!song || !playlist) return;\n\n        if (globalPlayer.currentSong === song && globalPlayer.isPlaying) {\n            globalPlayer.pause(song);\n        } else {\n            globalPlayer.play(song, playlist);\n        }\n    });\n}\n","function handleDownload(event) {\n    fetch(`${wpApiSettings.root}soniica/v1/register-download`, {\n        method: 'POST',\n        headers: {\n            'X-WP-Nonce': wpApiSettings.nonce,\n            'Content-Type': 'application/json'\n        },\n        credentials: 'same-origin'\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (!data.success) {\n            event.preventDefault();\n            alert(data.message);\n            return false;\n        } else {\n            // Atualiza o estado de todos os botões de download para usuários não premium\n            if (!data.is_premium) {\n                document.querySelectorAll('.download-link').forEach(downloadLink => {\n                    downloadLink.classList.add('download-blocked');\n                    downloadLink.setAttribute('title', 'You have reached the download limit on free plan today.');\n                    //downloadLink.textContent = 'Download indisponível';\n                    downloadLink.setAttribute('href', '/get-premium');\n                    downloadLink.removeAttribute('download');\n                });\n            }\n        }\n    })\n    .catch(error => {\n        console.error('Erro:', error);\n        event.preventDefault();\n        return false;\n    });\n\n    return true;\n}\n\nconst playerDownloadButtons = document.querySelectorAll('.download-link');\n\nfunction isBase64(str) {\n    try {\n        return btoa(atob(str)) === str;\n    } catch (e) {\n        return false;\n    }\n}\n\nconst PlayerManager = (function () {\n    let instance = null;\n\n    return {\n        getInstance: function () {\n            if (!instance) {\n                instance = new Player();\n            }\n            return instance;\n        }\n    };\n})();\n\nfunction stopGlobalPlayer() {\n    if (window.globalPlayer && window.globalPlayer.currentSong) {\n        window.globalPlayer.pause(window.globalPlayer.currentSong);\n    }\n}\n\n\n\nplayerDownloadButtons.forEach((button) => {\n    button.addEventListener('click', (event) => {\n        event.preventDefault();\n\n        let encodedDownloadLink = button.getAttribute(\"href\");\n        let decodedLink = '';\n\n        // Verifica se a string é Base64 válida antes de decodificar\n        if (isBase64(encodedDownloadLink)) {\n            // se for base64, decodifica\n            decodedLink = atob(encodedDownloadLink);\n        } else {\n            // se não for, usa o link normal\n            decodedLink = encodedDownloadLink;\n \n            window.location.href = decodedLink;\n            return;\n        }\n\n        if (!button.classList.contains('download-blocked')) {\n            window.open(decodedLink, '_blank');\n        } else {\n            console.log('deu ruim');\n        }\n    });\n});\n\nwindow.addEventListener('beforeunload', function(event) {\n    stopGlobalPlayer();\n});\n","\n    const userAvatar = document.querySelector(\".user-avatar\");\n    const userSubMenu = document.querySelector(\".user-sub-menu\");\n\n    if (userAvatar && userSubMenu) {\n        userAvatar.addEventListener(\"click\", function (event) {\n            userSubMenu.classList.toggle(\"active\");\n        });\n\n        document.addEventListener(\"click\", function (event) {\n            if (!userAvatar.contains(event.target) && !userSubMenu.contains(event.target)) {\n                userSubMenu.classList.remove(\"active\");\n            }\n        });\n    }\n"]}